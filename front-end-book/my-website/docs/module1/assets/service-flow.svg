<svg xmlns="http://www.w3.org/2000/svg" width="800" height="400" viewBox="0 0 800 400">
  <!-- Background -->
  <rect width="800" height="400" fill="#FFFFFF"/>

  <!-- Client Node (Navigation) -->
  <rect x="80" y="150" width="180" height="100" fill="#3578E5" stroke="#1C1E21" stroke-width="2" rx="10"/>
  <text x="170" y="190" text-anchor="middle" font-family="Arial" font-size="16" fill="#FFFFFF" font-weight="bold">Navigation Node</text>
  <text x="170" y="215" text-anchor="middle" font-family="Arial" font-size="14" fill="#FFFFFF">(Client)</text>

  <!-- Server Node (Path Planning) -->
  <rect x="540" y="150" width="180" height="100" fill="#3578E5" stroke="#1C1E21" stroke-width="2" rx="10"/>
  <text x="630" y="190" text-anchor="middle" font-family="Arial" font-size="16" fill="#FFFFFF" font-weight="bold">Path Planning</text>
  <text x="630" y="215" text-anchor="middle" font-family="Arial" font-size="14" fill="#FFFFFF">(Server)</text>

  <!-- Service in the middle (optional visual element) -->
  <ellipse cx="400" cy="200" rx="100" ry="50" fill="#25C2A0" stroke="#1C1E21" stroke-width="2"/>
  <text x="400" y="195" text-anchor="middle" font-family="Arial" font-size="14" fill="#FFFFFF" font-weight="bold">Service</text>
  <text x="400" y="215" text-anchor="middle" font-family="Arial" font-size="12" fill="#FFFFFF">/plan_path</text>

  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1C1E21"/>
    </marker>
  </defs>

  <!-- Request Arrow: Client to Server (top path) -->
  <path d="M 260 180 Q 400 120 540 180" stroke="#1C1E21" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="400" y="110" text-anchor="middle" font-family="Arial" font-size="12" fill="#1C1E21" font-weight="bold">1. Request</text>
  <text x="400" y="130" text-anchor="middle" font-family="Arial" font-size="11" fill="#666666">(start, goal coordinates)</text>

  <!-- Response Arrow: Server to Client (bottom path) -->
  <path d="M 540 220 Q 400 280 260 220" stroke="#1C1E21" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="400" y="300" text-anchor="middle" font-family="Arial" font-size="12" fill="#1C1E21" font-weight="bold">2. Response</text>
  <text x="400" y="320" text-anchor="middle" font-family="Arial" font-size="11" fill="#666666">(computed path waypoints)</text>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial" font-size="16" fill="#1C1E21" font-weight="bold">ROS 2 Service: Request/Response Pattern</text>

  <!-- Note at bottom -->
  <text x="400" y="380" text-anchor="middle" font-family="Arial" font-size="10" fill="#666666">
    Synchronous, one-to-one communication: Client waits for server's response before continuing
  </text>
</svg>
